<div ng-controller="UploadController" class="container">
    <h1 id="pageTitle" class="text-center">Tải lên dữ liệu căn cước công dân</h1>
    <form class="highlight" name="uploadForm" ng-submit="uploadFile()">
        <div class="form-group">
            <label for="fileInput">Select Identity Card Image:</label>
            <input type="file" class="form-control-file" id="fileInput" name="file" onchange="angular.element(this).scope().fileChanged(this)" required>
        </div>
        <button type="submit" class="btn btn-primary">Upload</button>
    </form>
    <div id="notify" class="mt-4" ng-if="notifyMessage">
        <div class="alert alert-info">{{ notifyMessage }}</div>
    </div>
    <div id="result" class="mt-4" ng-if="existingData || currentData">
        <div ng-if="existingData" class="highlight">
            <h3>New Data:</h3>
            <table class="table table-bordered result-table">
                <tbody>
                    <tr>
                        <th>ID Căn Cước Công Dân</th>
                        <td>{{ existingData.id_identity_card }}</td>
                    </tr>
                    <tr>
                        <th>ID Chứng Minh Nhân Dân</th>
                        <td>{{ existingData.id_passport }}</td>
                    </tr>
                    <tr>
                        <th>Họ và Tên</th>
                        <td>{{ existingData.fullname }}</td>
                    </tr>
                    <tr>
                        <th>Ngày Sinh</th>
                        <td>{{ existingData.birth_date }}</td>
                    </tr>
                    <tr>
                        <th>Giới Tính</th>
                        <td>{{ existingData.gender }}</td>
                    </tr>
                    <tr>
                        <th>Địa Chỉ</th>
                        <td>{{ existingData.address }}</td>
                    </tr>
                    <tr>
                        <th>Ngày Cấp</th>
                        <td>{{ existingData.issue_date }}</td>
                    </tr>
                </tbody>
            </table>
            <button class="btn btn-success" ng-click="useData('existing')">Lấy thông tin này</button>
        </div>
        <div ng-if="currentData" class="highlight">
            <h3>Existing Data:</h3>
            <table class="table table-bordered result-table">
                <tbody>
                    <tr>
                        <th>ID Căn Cước Công Dân</th>
                        <td>{{ currentData.id_identity_card }}</td>
                    </tr>
                    <tr>
                        <th>ID Chứng Minh Nhân Dân</th>
                        <td>{{ currentData.id_passport }}</td>
                    </tr>
                    <tr>
                        <th>Họ và Tên</th>
                        <td>{{ currentData.fullname }}</td>
                    </tr>
                    <tr>
                        <th>Ngày Sinh</th>
                        <td>{{ currentData.birth_date }}</td>
                    </tr>
                    <tr>
                        <th>Giới Tính</th>
                        <td>{{ currentData.gender }}</td>
                    </tr>
                    <tr>
                        <th>Địa Chỉ</th>
                        <td>{{ currentData.address }}</td>
                    </tr>
                    <tr>
                        <th>Ngày Cấp</th>
                        <td>{{ currentData.issue_date }}</td>
                    </tr>
                </tbody>
            </table>
            <button class="btn btn-success" ng-click="useData('current')">Lấy thông tin này</button>
        </div>
    </div>
</div>
