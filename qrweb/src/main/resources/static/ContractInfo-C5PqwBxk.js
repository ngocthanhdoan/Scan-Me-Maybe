import{s as I}from"./index-u7QMkoyn.js";import{s as w}from"./index-K4dB8tF2.js";import{_ as k,r as f,k as B,w as F,o as r,a as e,c as m,e as y,t as d,b as x,d as N,F as C,l as T,v as O}from"./index-DdL_NmRq.js";import{a as A}from"./axios-DsPaXkF5.js";import"./index-BUXIYzBB.js";import"./index-KyQwB6Ob.js";const R={setup(){const c=f([]),i=f([]),h=f(""),s=async(o,n,a)=>{const t=o.target.files[0];if(t){const l=new FileReader;l.onload=async v=>{c.value[n][a]=v.target.result;const D=new FormData;D.append("file",t);try{const u=await A.post("/api/process-upload",D,{headers:{"Content-Type":"multipart/form-data"}});u.data.status==="success"?p(u.data.detections[0].message,n):u.data.status==="warning"&&p(u.data.new_data,n)}catch(u){console.error("Error uploading file:",u)}},l.readAsDataURL(t)}},g=(o,n)=>o===n?'<span class="text-green-500">Match</span>':'<span class="text-red-500">Not Match</span>',_=o=>{const{insured:n,buyer:a,dependents:t}=o;c.value=[{...n,type:"Insured",front:null,back:null},{...a,type:"Buyer",front:null,back:null},...t.map(l=>({...l,type:"Dependent",front:null,back:null}))],i.value=c.value.map(l=>({NationalID:{oldData:l.nationalID,newData:""},CitizenID:{oldData:l.citizenID,newData:""},DateOfBirth:{oldData:l.dateOfBirth,newData:""},FullName:{oldData:l.fullName,newData:""},Address:{oldData:l.address,newData:""},Gender:{oldData:l.gender.name,newData:""}}))},p=(o,n)=>{const a=c.value[n],t={NationalID:{oldData:a.nationalID,newData:o.nationalID||a.nationalID},CitizenID:{oldData:a.citizenID,newData:o.citizenID||a.citizenID},DateOfBirth:{oldData:a.dateOfBirth,newData:o.dateOfBirth||a.dateOfBirth},FullName:{oldData:a.fullName,newData:o.fullName||a.fullName},Address:{oldData:a.address,newData:o.address||a.address},Gender:{oldData:a.gender.name,newData:o.gender||a.gender.name}};i.value[n]=t};return _({id:"64bbc76b-cc55-4afd-a333-c596b9e005d4",insured:{id:"052201011360",type_id:{code:"ID_CARD_1",name:"Căn cước công dân"},nationalID:"052201011360",citizenID:"215561550",fullName:"Đặng Trung Tiến",dateOfBirth:"03/11/2001",gender:{code:"MALE",name:"Nam"},address:"Xóm 1, Thôn Thượng Giang 1, Tây Giang, Tây Sơn, Bình Định",issuingPlace:"",nationality:{code:null,name:null},visaNumber:"",insuranceRelationship:null,mobilePhone:"",email:"",age:"23",education:{code:null,name:null},maritalStatus:{code:null,name:null},profession:{code:null,name:null},majorCategory:{code:null,name:null},mediumCategory:{code:null,name:null},minorCategory:{code:null,name:null},companyName:"",position:"",jobDescription:"",monthlyIncome:"",postalCode:"",companyPhone:"",branchNumber:"",relationShip:{code:"FOR_MALE",name:"Vợ"}},buyer:{id:"049099007188",type_id:{code:"ID_CARD_1",name:"Căn cước công dân"},nationalID:"049099007188",citizenID:"245349072",fullName:"Đoàn Ngọc Thành",dateOfBirth:"28/01/1999",gender:{code:"MALE",name:"Nam"},address:"Thôn Quảng Bình, Nghĩa Thắng, Đắk R'Lấp, Đắk Nông",issuingPlace:"",nationality:{code:null,name:null},visaNumber:"",insuranceRelationship:null,mobilePhone:"",email:"",age:null,education:{code:null,name:null},maritalStatus:{code:null,name:null},profession:{code:null,name:null},majorCategory:{code:null,name:null},mediumCategory:{code:null,name:null},minorCategory:{code:null,name:null},companyName:"",position:"",jobDescription:"",monthlyIncome:"",postalCode:"",companyPhone:"",branchNumber:"",relationShip:{code:null,name:null}},dependents:[{id:"",type_id:{code:null,name:null},nationalID:"12313123",citizenID:"12312312123",fullName:"123123123213",dateOfBirth:"",gender:{code:"FEMALE",name:"Nữ"},address:"123123",issuingPlace:"",nationality:{code:null,name:null},visaNumber:"",insuranceRelationship:null,mobilePhone:"",email:"",age:"",education:{code:null,name:null},maritalStatus:{code:null,name:null},profession:{code:null,name:null},majorCategory:{code:"IT",name:"Công nghệ thông tin"},mediumCategory:{code:null,name:null},minorCategory:{code:null,name:null},companyName:"",position:"",jobDescription:"",monthlyIncome:"",postalCode:"",companyPhone:"",branchNumber:"",relationShip:{code:null,name:null}}]}),{people:c,comparisonData:i,notes:h,handleUpload:s,compareFields:g}}},S={class:"flex flex-col gap-8"},z={class:"card flex-1 flex flex-col gap-4 p-4"},L={class:"font-semibold text-xl"},M={class:"font-semibold text-xl"},P={class:"flex flex-col gap-4"},j={class:"flex flex-col gap-2"},U=["for"],E=["id","onChange"],V={key:0,class:"mt-2"},G={class:"flex flex-col gap-2"},H=["for"],Q=["id","onChange"],W={key:0,class:"mt-2"},X={class:"card flex-1 flex flex-col gap-4 p-4"},q={class:"font-semibold text-xl"},J={class:"min-w-full mt-4 border-separate border-spacing-2 border border-gray-300"},K=e("thead",null,[e("tr",null,[e("th",{class:"border border-gray-400 px-4 py-2"},"Field"),e("th",{class:"border border-gray-400 px-4 py-2"},"Old Data"),e("th",{class:"border border-gray-400 px-4 py-2"},"New Data"),e("th",{class:"border border-gray-400 px-4 py-2"},"Comparison")])],-1),Y={class:"border border-gray-300 px-4 py-2"},Z={class:"border border-gray-300 px-4 py-2"},$={class:"border border-gray-300 px-4 py-2"},ee=["innerHTML"],ae={class:"card flex flex-col gap-4 p-4"},oe=e("div",{class:"font-semibold text-xl"},"Notes",-1),ne={class:"flex flex-col gap-2"},le=e("label",{for:"notes",class:"font-medium"},"Notes",-1);function te(c,i,h,s,g,_){const p=w,b=I;return r(),B(b,null,{default:F(()=>[e("div",S,[(r(!0),m(C,null,y(s.people,(o,n)=>(r(),m("div",{key:n,class:"flex flex-col md:flex-row gap-8 mb-8"},[e("div",z,[e("div",L,d(n+1)+". Upload ID Cards for "+d(o.type),1),e("div",M,d(o.fullName),1),e("div",P,[e("div",j,[e("label",{for:"front-upload-"+n,class:"font-medium"},"Upload Front Side",8,U),e("input",{id:"front-upload-"+n,type:"file",accept:"image/*",onChange:a=>s.handleUpload(a,n,"front"),class:"border rounded p-2"},null,40,E),o.front?(r(),m("div",V,[x(p,{src:o.front,width:"250",class:"w-full h-auto object-cover border rounded"},null,8,["src"])])):N("",!0)]),e("div",G,[e("label",{for:"back-upload-"+n,class:"font-medium"},"Upload Back Side",8,H),e("input",{id:"back-upload-"+n,type:"file",accept:"image/*",onChange:a=>s.handleUpload(a,n,"back"),class:"border rounded p-2"},null,40,Q),o.back?(r(),m("div",W,[x(p,{src:o.back,width:"250",class:"w-full h-auto object-cover border rounded"},null,8,["src"])])):N("",!0)])])]),e("div",X,[e("div",q,"Compare Data for "+d(o.type)+" "+d(n+1),1),e("table",J,[K,e("tbody",null,[(r(!0),m(C,null,y(s.comparisonData[n],(a,t)=>(r(),m("tr",{key:t},[e("td",Y,d(t),1),e("td",Z,d(a.oldData),1),e("td",$,d(a.newData),1),e("td",{class:"border border-gray-300 px-4 py-2",innerHTML:s.compareFields(a.oldData,a.newData)},null,8,ee)]))),128))])])])]))),128)),e("div",ae,[oe,e("div",ne,[le,T(e("textarea",{id:"notes",rows:"6","onUpdate:modelValue":i[0]||(i[0]=o=>s.notes=o),placeholder:"Add any additional notes here",class:"border rounded p-2"},null,512),[[O,s.notes]])])])])]),_:1})}const me=k(R,[["render",te]]);export{me as default};
